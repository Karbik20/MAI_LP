#№ Отчет по лабораторной работе №4
## по курсу "Логическое программирование"

## Обработка естественного языка

### студент: Сафонникова А.Р.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Есть два основных подхода к обработке языков - статистический и лингвистический. В основе статистического подхода лежит преположение, что содержание текста отражается наиболее часто встречающимися словами. Суть этого анализа заключается в подсчёте количества вхождений слов в текст. Лингвистический подход основан на лингвистическом анализе, который представляет собой 4 уровня анализа входных данных: графематический (отдельные слова), морфологический (морфологические характеристики слов), синтаксический (зависимости слов в предложении), семантический (смысл высказывания).

## Задание

3. Реализовать синтаксический анализатор арифметического выражения и вычислить его числовое значение. В выражении допустимы операции степень  +, -, \*, /, степень ^. Учитывать приоритеты операций.

Запрос: `?- calculate([5, '+', 3, '^', 2], X).`

Результат: `X = 14`

## Принцип решения

Сначала предикат `calculate(List, Result)` принимает первым аргументом список, представляющий арифметическую последовательность операций:

```prolog
calculate(List, Result):-
    sum_differ(List, Result),!.
```
После начинается синтаксический разбор введённой последовательности. 
Сначала мы разбиваем список на два: все что до первого знака +(-) и после него. Если символа +(-) в списке не будет, то предикат будет ложным и программа начнет подбирать другое 'правило'. Далее произведём разбор левой части по знаку +(-) и правой части по знаку \*(/). После разбора выражения по знаку \*(/) на левую и правую часть, происходит разбор левой части по знаку \*(/) и разбор правой части по знаку ^. Для разбиения списка на два, соответствующих правилам перехода, используется предикат `append`:
```prolog
sum_differ(E, Result):-
    append(T, ['+'| E1], E),
    sum_differ(T, Result1),
    division(E1, Result2),
    Result is Result1 + Result2.

sum_differ(E, Result):-
    append(T, ['-'| E1], E),
    sum_differ(T, Result1),
    division(E1, Result2),
    Result is Result1 - Result2.

sum_differ(E, Result):-
    division(E, Result).

division(T, Result):-
    append(N, ['*' | T1], T),
    division(N, Result1),
    new_power(T1, Result2),
    Result is Result1 * Result2.

division(T, Result):-
    append(N, ['/' | T1], T),
    division(N, Result1),
    new_power(T1, Result2),
    Result is Result1 / Result2.

division(T, Result):-
    new_power(T, Result).
```
Для того чтобы определить приоритет операции возведения в степень мы используем предикат `new_power(T, Result)`:
```prolog
new_power(T, Result):-
    append(N, ['^', T2], T),
    new_power(N, T1),
    Result is T1 ** T2.

new_power([Result], Result):-
    number(Result).
```
## Результаты
```prolog
?- calculate([5, '*', 6, '*', 0, '-', 5], X). 
X = -5.

?- calculate([3,'^',2,'-',2,'*',1], X).     
X = 7.
```
## Выводы

В ходе данной лабораторной работы я пришла к выводу, что на таком языке, как Prolog, проще писать синтаксические и морфологические разборы естественно-языковых текстов, чем на императивных языках программирования. Пролог предлагает совершенно иные возможности для написания программ, нежели популярные императивные и функциональные языки программирования.

Это упрощение происходит благодаря тому, что язык позволяет без затруднений, в случае разбора арифметических выражений, разделить выражение на различные смысловые части и обрабатывать каждую часть рекурсивно и независимо от других частей. В связи с этим программа получается меньше и читабельнее. Это обусловлено декларативной семантикой языка и тем, что составленные правила грамматики напрямую отображаются в предикаты пролога.




